CREATE DATABASE tuinbot DEFAULT CHARSET = utf8mb4 DEFAULT COLLATE = utf8mb4_unicode_ci;

CREATE TABLE auto_reaction (guild_id BIGINT UNSIGNED NOT NULL, channel_id BIGINT UNSIGNED NOT NULL, author_id BIGINT UNSIGNED NOT NULL, target_id BIGINT UNSIGNED NOT NULL, emoji VARCHAR(64) NOT NULL COLLATE utf8mb4_bin, remaining INT NOT NULL, PRIMARY KEY(guild_id, author_id, target_id));

CREATE TABLE auto_spoiler (guild_id BIGINT UNSIGNED NOT NULL, channel_id BIGINT UNSIGNED NOT NULL, author_id BIGINT UNSIGNED NOT NULL, target_id BIGINT UNSIGNED NOT NULL, PRIMARY KEY(guild_id, target_id));

CREATE TABLE typing_message (guild_id BIGINT UNSIGNED NOT NULL, channel_id BIGINT UNSIGNED NOT NULL, author_id BIGINT UNSIGNED NOT NULL, target_id BIGINT UNSIGNED NOT NULL, message TEXT NOT NULL, PRIMARY KEY(guild_id, author_id, target_id));

CREATE TABLE auto_reply (guild_id BIGINT UNSIGNED NOT NULL, channel_id BIGINT UNSIGNED NOT NULL, author_id BIGINT UNSIGNED NOT NULL, target_id BIGINT UNSIGNED NOT NULL, message TEXT NOT NULL, PRIMARY KEY(guild_id, author_id, target_id));

CREATE TABLE memo (id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT UNIQUE, author_id BIGINT UNSIGNED NOT NULL, name VARCHAR(64) NOT NULL, PRIMARY KEY(author_id, name), INDEX(id));

CREATE TABLE memo_line (id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT, memo_id BIGINT UNSIGNED NOT NULL, content TEXT NOT NULL, PRIMARY KEY(id));